
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Restaurant Name</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #fff;
  }
  /* Header styling */
  .header {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: #fff;
    border-bottom: 1px solid #ccc;
  }
  .back-icon {
    font-size: 24px;
    margin-right: 10px;
    cursor: pointer;
  }
  .title {
    font-weight: bold;
    font-size: 20px;
  }
  /* Map placeholder styling */
  .map {
    height: 300px;
    background-color: #f0f0f0;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #999;
    font-size: 18px;
  }
  /* Buttons container */
  .buttons {
    display: flex;
    justify-content: space-around;
    padding: 15px 0;
  }
  .btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100px;
    height: 50px;
    border-radius: 10px;
    font-size: 20px;
    cursor: pointer;
    text-decoration: none;
  }
  .call-btn {
    background-color: #f00;
    color: #fff;
  }
  .chat-btn {
    background-color: #eee;
    color: #000;
  }
  /* Contact info and rating */
  .contact-info {
    display: flex;
    padding: 0 15px;
    margin-top: 10px;
  }
  .profile-img {
    width: 50px;
    height: 50px;
    border-radius: 8px;
    object-fit: cover;
  }
  .contact-details {
    margin-left: 10px;
    flex: 1;
  }
  .name {
    font-weight: 600;
  }
  .delivery-status {
    font-size: 14px;
    color: gray;
  }
  /* Rating badge */
  .rating {
    background-color: #fcd868;
    border-radius: 15px;
    padding: 4px 8px;
    display: inline-block;
    font-size: 14px;
  }
  /* Estimated delivery time */
  .delivery-time {
    text-align: center;
    margin: 10px 0;
    font-weight: bold;
  }
  /* Order Progress and Order Info Sections */
  .section {
    padding: 0 15px;
    margin-top: 20px;
  }
  .section h3 {
    margin-bottom: 10px;
  }
  /* Placeholder styling for sections */
  .placeholder {
    height: 50px;
    background-color: #eee;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #888;
  }
</style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div class="back-icon" onclick="history.back()">‚Üê</div>
  <div class="title">Restaurant Name</div>
</div>

<!-- Map placeholder -->
<div class="map">Map Placeholder</div>

<!-- Buttons for Call and Chat -->
<div class="buttons">
  <div class="btn call-btn" onclick="alert('Calling courier...')">üìû</div>
  <div class="btn chat-btn" onclick="alert('Opening chat...')">üí¨</div>
</div>

<!-- Courier and Delivery Info -->
<div class="contact-info">
  <img src="https://via.placeholder.com/50" alt="Profile" class="profile-img" />
  <div class="contact-details">
    <div class="name">Restaurant Name</div>
    <div class="delivery-status">The courier is on their way to you</div>
  </div>
  <div class="rating">‚≠ê 4.8</div>
</div>

<!-- Estimated Time to Delivery -->
<div class="delivery-time">12:56</div>

<!-- Order Progress Section -->
<div class="section">
  <h3>Order Progress</h3>
  <div class="placeholder">Order Progress Content</div>
</div>

<!-- Order Info Section -->
<div class="section">
  <h3>Order Info</h3>
  <div class="placeholder">Order Info Content</div>
</div>
<script>
function showNotificationMessage(message, color='#4CAF50') {
  const notif = document.getElementById('notification');
  notif.innerHTML = `<div style="background-color:${color}; color:#fff; padding:10px; display:inline-block; border-radius:4px;">${message}</div>`;
  notif.style.display = 'block';

  // Hide after 3 seconds
  setTimeout(() => {
    notif.style.display = 'none';
  }, 3000);
}

function sendTwilioNotification(to, message) {
  // Show sending message
  showNotificationMessage('Sending notification...');
  
  fetch('/notify/sms', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ to: to, message: message })
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      showNotificationMessage('Notification sent successfully!', '#4CAF50');
    } else {
      showNotificationMessage('Failed to send notification.', '#f44336');
    }
  })
  .catch(() => {
    showNotificationMessage('Error sending notification.', '#f44336');
  });
}



// Assuming you have an API endpoint at /notify/sms
function sendSms(to, message) {
  fetch('/notify/sms', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ to, message })
  })
  .then(res => res.json())
  .then(data => {
    console.log('SMS sent:', data);
  })
  .catch(err => {
    console.error('Error sending SMS:', err);
  });
}

</script>
<script src="server/supabase/supabaseClient.js"async></script>

<script src="client/public/functions/mainTwilioFunction.js" async></script>
<script src="client/public/functions/token.js" async></script>
<script src="client/public/functions/sendSMS.js" async></script>
<script src="client/public/functions/twilio.js" async></script>
<script src="client/public/functions/map.js" async></script>
<script src="client/public/functions/payfast.js" async></script>
<script src="client/public/functions/notification.js" async></script>
<script src="client/public/functions/mapFunctions.js" async></script>
<script src="client/public/functions/payfast.js" async></script>

</body>
</html>